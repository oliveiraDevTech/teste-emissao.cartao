# ========================================
# VARIÁVEIS DE AMBIENTE - EMISSÃO DE CARTÃO
# ========================================
# Copie este arquivo para .env e ajuste os valores conforme necessário

# ========== APLICAÇÃO ==========
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:5000;https://+:5001

# ========== BANCO DE DADOS ==========
# SQLite Connection String
ConnectionStrings__DefaultConnection=Data Source=/app/data/emissao_cartao.db;

# ========== JWT (JSON WEB TOKEN) ==========
# IMPORTANTE: Use uma chave forte e única em produção (mínimo 32 caracteres)
JWT_SECRET=sua_chave_super_secreta_com_minimo_32_caracteres_para_producao
Security__Jwt__Secret=sua_chave_super_secreta_com_minimo_32_caracteres_para_producao
JWT_ISSUER=EmissaoCartaoApi
Security__Jwt__Issuer=EmissaoCartaoApi
JWT_AUDIENCE=EmissaoCartaoApp
Security__Jwt__Audience=EmissaoCartaoApp
JWT_EXPIRATION_MINUTES=60
Security__Jwt__ExpirationMinutes=60
Security__Jwt__RefreshTokenExpirationDays=7

# ========== CARD ISSUANCE (EMISSÃO DE CARTÃO) ==========
# IMPORTANTE: Use uma chave forte e única em produção para criptografia de tokens
Security__CardIssuance__TokenVaultEncryptionKey=sua_chave_criptografia_minimo_32_chars_producao
Security__CardIssuance__BinVisa=516233
Security__CardIssuance__BinMastercard=453912
Security__CardIssuance__ValidityYears=3

# ========== RABBITMQ (MENSAGERIA) ==========
RABBITMQ_HOST=rabbitmq
RABBITMQ_HOSTNAME=rabbitmq
RabbitMQ__HostName=rabbitmq
RABBITMQ_PORT=5672
RabbitMQ__Port=5672
RABBITMQ_USER=guest
RABBITMQ_USERNAME=guest
RabbitMQ__UserName=guest
RABBITMQ_PASSWORD=guest
RabbitMQ__Password=guest
RABBITMQ_VHOST=/
RabbitMQ__VirtualHost=/
RabbitMQ__ConnectionTimeout=10000
RabbitMQ__RequestedHeartbeat=30
RabbitMQ__MaxRetries=3
RabbitMQ__RetryDelay=1000
RabbitMQ__AutomaticRecovery=true
RabbitMQ__DispatchConsumersAsync=true

# Nomes das Filas/Exchanges
RabbitMQ__Queues__ClienteCadastrado=cliente.cadastrado
RabbitMQ__Queues__AnaliseCreditoComplete=analise.credito.complete
RabbitMQ__Queues__CartaoEmissaoPedido=cartao.emissao.pedido
RabbitMQ__Queues__CartaoEmitido=cartao.emitido
RabbitMQ__Queues__CartaoEmissaoFalha=cartao.emissao.falha

# ========== EMAIL/SMTP ==========
Email__Smtp__Host=smtp.gmail.com
Email__Smtp__Port=587
Email__Smtp__UserName=seu_email@gmail.com
Email__Smtp__Password=sua_senha_app
Email__Smtp__FromEmail=seu_email@gmail.com
Email__Smtp__FromName=Sistema de Emissão de Cartões
Email__Smtp__UseSsl=true
Email__Smtp__UseStartTls=false
Email__Smtp__Timeout=10000
Email__Smtp__Enabled=false

# ========== CACHE ==========
Cache__Type=Memory
Cache__DefaultExpirationMinutes=60
Cache__SlidingExpirationMinutes=30

# ========== CORS ==========
Security__Cors__AllowedOrigins__0=https://localhost:3000
Security__Cors__AllowedOrigins__1=https://localhost:3001
Security__Cors__AllowedOrigins__2=http://localhost:3000
Security__Cors__AllowCredentials=true
Security__Cors__MaxAge=3600

# ========== LOGGING ==========
Logging__LogLevel__Default=Information
Logging__LogLevel__Microsoft.AspNetCore=Warning
Logging__LogLevel__Microsoft.EntityFrameworkCore=Information
Logging__Serilog__MinimumLevel=Information

# ========== HEALTH CHECKS ==========
HealthChecks__Enabled=true
HealthChecks__Endpoint=/health
HealthChecks__DetailedEndpoint=/health/detailed
HealthChecks__Checks__Database__Enabled=true
HealthChecks__Checks__Database__Timeout=5000
HealthChecks__Checks__RabbitMQ__Enabled=true
HealthChecks__Checks__RabbitMQ__Timeout=5000

# ========== RESILIENCE (POLLY) ==========
Resilience__Polly__Enabled=true
Resilience__Polly__Retry__MaxRetries=3
Resilience__Polly__Retry__BackoffMultiplier=2.0
Resilience__Polly__Retry__InitialDelayMs=100
Resilience__Polly__CircuitBreaker__Enabled=true
Resilience__Polly__CircuitBreaker__FailureThreshold=5
Resilience__Polly__CircuitBreaker__SuccessThreshold=2
Resilience__Polly__CircuitBreaker__TimeoutMs=30000
Resilience__Polly__Timeout__Enabled=true
Resilience__Polly__Timeout__TimeoutMs=30000

# ========== APPLICATION SETTINGS ==========
ApplicationSettings__ServiceName=CartaoAPI
ApplicationSettings__ServiceVersion=1.0.0
ApplicationSettings__Environment=Production
